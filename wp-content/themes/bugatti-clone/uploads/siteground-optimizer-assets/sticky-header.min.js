!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){var a=Array.prototype.slice,l=Array.prototype.splice,o={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:!1,getWidthFrom:"",widthFromWrapper:!0,responsiveWidth:!1,zIndex:"auto"},i=e(window),d=e(document),n=[],r=i.height(),s=function(){for(var s,o,l,f,a=i.scrollTop(),m=d.height(),u=m-r,h=a>u?u-a:0,c=0,p=n.length;p>c;c++){var t=n[c],g=t.stickyWrapper.offset().top,v=g-t.topSpacing-h;t.stickyWrapper.css("height",t.stickyElement.outerHeight()),v>=a?null!==t.currentTop&&(t.stickyElement.css({width:"",position:"",top:"","z-index":""}),t.stickyElement.parent().removeClass(t.className),t.stickyElement.trigger("sticky-end",[t]),t.currentTop=null):(s=m-t.stickyElement.outerHeight()-t.topSpacing-t.bottomSpacing-a-h,(0>s?s+=t.topSpacing:s=t.topSpacing,t.currentTop!==s)&&(t.getWidthFrom?o=e(t.getWidthFrom).width()||null:t.widthFromWrapper&&(o=t.stickyWrapper.width()),o==null&&(o=t.stickyElement.width()),t.stickyElement.css("width",o).css("position","fixed").css("top",s).css("z-index",t.zIndex),t.stickyElement.parent().addClass(t.className),null===t.currentTop?t.stickyElement.trigger("sticky-start",[t]):t.stickyElement.trigger("sticky-update",[t]),t.currentTop===t.topSpacing&&t.currentTop>s||null===t.currentTop&&s<t.topSpacing?t.stickyElement.trigger("sticky-bottom-reached",[t]):null!==t.currentTop&&s===t.topSpacing&&t.currentTop<s&&t.stickyElement.trigger("sticky-bottom-unreached",[t]),t.currentTop=s),l=t.stickyWrapper.parent(),f=t.stickyElement.offset().top+t.stickyElement.outerHeight()>=l.offset().top+l.outerHeight()&&t.stickyElement.offset().top<=t.topSpacing,f?t.stickyElement.css("position","absolute").css("top","").css("bottom",0).css("z-index",""):t.stickyElement.css("position","fixed").css("top",s).css("bottom","").css("z-index",t.zIndex))}},c=function(){r=i.height();for(var t,s,o=0,a=n.length;a>o;o++)t=n[o],s=null,t.getWidthFrom?t.responsiveWidth&&(s=e(t.getWidthFrom).width()):t.widthFromWrapper&&(s=t.stickyWrapper.width()),s!=null&&t.stickyElement.css("width",s)},t={init:function(s){return this.each(function(){var r,a=e.extend({},o,s),i=e(this),c=i.attr("id"),l=c?c+"-"+o.wrapperClassName:o.wrapperClassName,d=e("<div></div>").attr("id",l).addClass(a.wrapperClassName);i.wrapAll(function(){return 0==e(this).parent("#"+l).length?d:void 0}),r=i.parent(),a.center&&r.css({width:i.outerWidth(),marginLeft:"auto",marginRight:"auto"}),"right"===i.css("float")&&i.css({float:"none"}).parent().css({float:"right"}),a.stickyElement=i,a.stickyWrapper=r,a.currentTop=null,n.push(a),t.setWrapperHeight(this),t.setupChangeListeners(this)})},setWrapperHeight:function(t){var n=e(t),s=n.parent();s&&s.css("height",n.outerHeight())},setupChangeListeners:function(e){if(window.MutationObserver){var n=new window.MutationObserver(function(n){(n[0].addedNodes.length||n[0].removedNodes.length)&&t.setWrapperHeight(e)});n.observe(e,{subtree:!0,childList:!0})}else window.addEventListener?(e.addEventListener("DOMNodeInserted",function(){t.setWrapperHeight(e)},!1),e.addEventListener("DOMNodeRemoved",function(){t.setWrapperHeight(e)},!1)):window.attachEvent&&(e.attachEvent("onDOMNodeInserted",function(){t.setWrapperHeight(e)}),e.attachEvent("onDOMNodeRemoved",function(){t.setWrapperHeight(e)}))},update:s,unstick:function(){return this.each(function(){for(var s=this,o=e(s),i=-1,t=n.length;t-- >0;)n[t].stickyElement.get(0)===s&&(l.call(n,t,1),i=t);-1!==i&&(o.unwrap(),o.css({width:"",position:"",top:"",float:"","z-index":""}))})}};window.addEventListener?(window.addEventListener("scroll",s,!1),window.addEventListener("resize",c,!1)):window.attachEvent&&(window.attachEvent("onscroll",s),window.attachEvent("onresize",c)),e.fn.sticky=function(n){return t[n]?t[n].apply(this,a.call(arguments,1)):"object"!=typeof n&&n?void e.error("Method "+n+" does not exist on jQuery.sticky"):t.init.apply(this,arguments)},e.fn.unstick=function(n){return t[n]?t[n].apply(this,a.call(arguments,1)):"object"!=typeof n&&n?void e.error("Method "+n+" does not exist on jQuery.sticky"):t.unstick.apply(this,arguments)},e(function(){setTimeout(s,0)})})